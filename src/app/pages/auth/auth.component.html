<div class="auth">
    <div class="auth__container">
        <div class="auth__card">
            <div class="auth__header">
                <app-image
                    class="auth__logo"
                    [src]="'assets/images/logo.svg'"
                    [alt]="'Rate Together Logo'"
                />
                <h1 class="auth__title">{{ 'HEADER.APP_NAME' | translate }}</h1>
                <p class="auth__subtitle">
                    {{ (isLoginMode() ? 'AUTH.LOGIN_TITLE' : 'AUTH.REGISTER_TITLE') | translate }}
                </p>
            </div>

            <form
                class="auth__form"
                (ngSubmit)="onSubmit()"
            >
                <!-- Username (registration only) -->
                @if (isRegisterMode()) {
                    <app-input
                        id="username"
                        icon="fa-user"
                        name="username"
                        [type]="InputType.TEXT"
                        [label]="'AUTH.USERNAME' | translate"
                        [placeholder]="'AUTH.USERNAME_PLACEHOLDER' | translate"
                        [required]="true"
                        [(ngModel)]="username"
                    />
                }

                <!-- Email -->
                <app-input
                    icon="fa-envelope"
                    id="email"
                    name="email"
                    [label]="'AUTH.EMAIL' | translate"
                    [placeholder]="'AUTH.EMAIL_PLACEHOLDER' | translate"
                    [required]="true"
                    [type]="InputType.EMAIL"
                    [(ngModel)]="email"
                />

                <!-- Password -->
                <app-input
                    icon="fa-lock"
                    id="password"
                    name="password"
                    [label]="'AUTH.PASSWORD' | translate"
                    [placeholder]="'AUTH.PASSWORD_PLACEHOLDER' | translate"
                    [required]="true"
                    [type]="InputType.PASSWORD"
                    [(ngModel)]="password"
                />

                <!-- Confirm Password (registration only) -->
                @if (isRegisterMode()) {
                    <app-input
                        id="confirmPassword"
                        icon="fa-lock"
                        name="confirmPassword"
                        [type]="InputType.PASSWORD"
                        [label]="'AUTH.CONFIRM_PASSWORD' | translate"
                        [placeholder]="'AUTH.CONFIRM_PASSWORD_PLACEHOLDER' | translate"
                        [required]="true"
                        [(ngModel)]="confirmPassword"
                    />
                }

                <!-- Submit Button -->
                <app-button
                    [fullWidth]="true"
                    [icon]="isLoginMode() ? 'fa-sign-in-alt' : 'fa-user-plus'"
                    [loading]="loading()"
                    [type]="ButtonType.SUBMIT"
                    [variant]="ButtonVariant.PRIMARY"
                >
                    {{ (isLoginMode() ? 'AUTH.LOGIN_BUTTON' : 'AUTH.REGISTER_BUTTON') | translate }}
                </app-button>
            </form>

            <div class="auth__footer">
                <p class="auth__footer-text">
                    {{ (isLoginMode() ? 'AUTH.NO_ACCOUNT' : 'AUTH.HAVE_ACCOUNT') | translate }}
                    <button
                        class="auth__footer-link"
                        type="button"
                        (click)="switchMode()"
                    >
                        {{ (isLoginMode() ? 'AUTH.SIGN_UP_LINK' : 'AUTH.SIGN_IN_LINK') | translate }}
                    </button>
                </p>
            </div>
        </div>
    </div>
</div>
